# YOLOv8 DAIR-V2X 训练配置文件

model:
  model_name: "yolov8n.pt"  # 或 yolov8s.pt, yolov8m.pt, yolov8l.pt, yolov8x.pt
  pretrained_weights: null  # 可选：预训练权重路径，如 "pretrained/yolov8n.pt"

training:
  epochs: 200
  batch_size: 64
  imgsz: 640
  lr0: 0.01  # 初始学习率
  lrf: 0.01  # 最终学习率（相对于lr0）
  momentum: 0.937
  weight_decay: 0.0005
  warmup_epochs: 3.0
  warmup_momentum: 0.8
  warmup_bias_lr: 0.1
  save_period: 10  # 每N个epoch保存一次检查点
  
  # 数据增强参数
  hsv_h: 0.015  # 色调增强
  hsv_s: 0.7    # 饱和度增强
  hsv_v: 0.4    # 明度增强
  degrees: 0.0   # 旋转角度
  translate: 0.1  # 平移
  scale: 0.5     # 缩放
  flipud: 0.0    # 上下翻转概率
  fliplr: 0.5    # 左右翻转概率
  mosaic: 1.0    # Mosaic增强概率
  mixup: 0.0     # Mixup增强概率

data:
  # YOLO格式数据集配置文件路径
  # 需要先运行 dairv2x_to_yolo.py 转换数据集
  data_yaml: "datasets/dairv2x_yolo/dairv2x.yaml"

checkpoint:
  resume_mode: "auto"  # auto: 自动查找最新检查点, manual: 手动指定
  log_dir: "logs"

misc:
  device: "cuda"
  num_workers: 16
  pin_memory: true

